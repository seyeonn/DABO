# DABO ( Donation + ABO)

![dabo_logo](https://i.imgur.com/sRCbvPP.jpg)

### 블록체인 기반 헌혈증 관리 및 기부 플랫폼  
  
<br/>

# 👀 Intro

### 사이트 주소

[https://dabobloodcard.site/](https://dabobloodcard.site/)
  
  <br/>

### 도메인 소개

#### ⛓ **블록체인이란?**

블록체인은 **데이터 분산 처리 기술**로 네트워크에 참여하는 모든 사용자가 모든 거래 내역 등의 데이터를 분산, 저장할 수 있다. 또한 블록체인은 블록들을 체인 형태로 묶은 형태로 되어 있으며 이 블록은 **개인과 개인의 거래, 즉 P2P의 데이터가 기록되는 장부**가 된다. 이런 블록들이 연결되어 만들어지는 것이 '사슬(체인)'의 구조를 가지게 된다.

모든 사용자가 거래 내역을 보유하고 있기 때문에 거래 내역을 확인할 때는 모든 사용자가 보유한 장부를 대조하고 확인해야 한다. 이러한 원리로 블록체인은 **'공공 거래장부'** 또는 **'분산 거래장부'**로도 불린다.


#### 🔐 **신뢰성을 보장할 수 있는 근거**

1. **안정성**
    
    블록체인은 중앙 서버 없이 P2P 분산 서버에서 구동되는 시스템이다. 또한 모든 데이터들이 복사되어 노드들 PC에 저장되어 있다. 따라서 시스템을 공격하기 위해서는 절반 이상의 노드를 해킹해야 하며, 그것은 현실적으로 불가능하다. 시스템의 공격지점이 분산되어 있으며 데이터 또한 분산되어 있기 때문에 시스템 자체로 안정적이라고 할 수 있다.
    
2. **익명성**
    
    블록체인 네트워크에서 계정을 생성할 때 제 3자의 신원 인증은 필요없다.즉, 아이디로 누군지 판별하기는 어렵다. 거래 기록은 모두에게 공개되며 거래를 누가 어디에 했는지도 모두 공개가 된다. 하지만 이 익명성이 보장된 특징 때문에 누구인가를 추적하기는 굉장히 힘들다.




<br/>

# 1️⃣ 기획 배경 / 개발 필요성

### ⚠ 문제점 분석

<<<<<<<<< 수정 필요 >>>>>>>>>
1) 종이 헌혈증 관리의 어려움 → 그래서 나온 DABO 시스템 → 전자헌혈증 

- 종이 헌혈증 재발급 불가
- 종이 헌혈증 관리의 어려움 (ex : 분실, 훼손 등)

2) 헌혈증 기부의 어려움 → 블록체인을 이용 헌혈증(NFT) 을 기부

- 방문 or 우편으로만 기부가 가능한 현재 실태는 기부를 어렵게 함

3) 기부 시스템의 신뢰도 문제 → DABO Token을 이용한 신뢰성 있는 시스템 구축

- 기부의 사용처, 거래 내역들이 불투명해 기부 시스템의 신뢰도 하락

### 📊 조사 분석


헌혈을 하게 될 경우 종이 형태의 ‘헌혈증서’라는 것을 받게 되는데 이 헌혈증서를 잘 보관하고 사용하는 사람이 몇이나 될까요?


**<활용률 20%... 헌혈증 무용론>**

[http://www.seoul.co.kr/news/newsView.php?id=20091202008008](http://www.seoul.co.kr/news/newsView.php?id=20091202008008)

위 조사에 따르면 사용된 헌혈증서는 점차 줄고 있으며,
이렇게 헌혈증 사용이 갈수록 저조한 이유는 무엇보다 종이 형태로 발급되어 분실할 경우 재발급이 안되기 때문이라고 합니다.



### ✨ 개발 필요성

이러한 배경에서 DABO는 전자 헌혈증을 통해 보다 편리하게 관리할 수 있고, 더불어 전자 헌혈증과 DABO를 통해 캠페인에 동참할 수 있습니다.


# 2️⃣ 프로젝트 소개

> Donation + ABO
블록체인 기반 전자 헌혈증을 등록하여 헌혈증 증서 관리를 더욱 간편하게! 
ERC20 DABO Token으로 신뢰도 있는 기부 시스템


### 🔔 핵심 포인트

1. 기록 : 블록체인을 통한 기부 기록 영구 보관
2. 기부 : 쉽고 편리한 헌혈증, 후원금 기부 서비스
3. 투명한 과정 : 공개 장부를 통한 투명한 기부 문화 정착

### 🎈 서비스

- 전자헌혈증 관리 : 블록체인 기반 전자헌혈증 생성/기부
- DABO 지갑 관리 : ERC20에 따른 DABO Token 발행/충전/기부
- 캠페인 관리 : 전자헌혈증, DABO Token 기부를 할 수 있는 캠페인 관리
- 헌혈의 집 관리 : 공공 데이터 API 기반 위치 및 정보 제공

### 🌟 비전

- 의미 있는 선순환 구조의 정착
- 아날로그 기부 문화에 소모되는 불필요한 사회적 비용 완화

<<<<< gif 추가 및 기능 설명 부분 필요..>>>>>>


# 3️⃣ Install And Usage

### ⚙ **시스템 환경**

- Cloud : AWS EC2
- OS : Ubuntu 20.04 LTS
- Vue : 2.6.14
- Springboot : 2.1.4.RELEASE
- DB : mysql 8.0.28
- geth :1.10.17-stable
- go: 1.13.8

### ⛑ **Server Port**

[제목 없음](https://www.notion.so/d600db1053284dc28d9bd228c6510df9)

### 🛠 **Ubuntu 패키지설치**

```

# update
$ sudo apt update

# CURL 설치
$ sudo apt-get install -y curl

# nodejs 설치
$ sudo apt install nodejs

# npm 설치
$ sudo apt install npm

# mysql 설치
$ sudo apt-get install mysql-server
$ sudo mysql_secure_installation

# nginx 설치
$ sudo apt-get install nginx

```

### 🛠 **frontend 빌드 및 backend 무중단 배포**

```

#frontend
npm run build

#backend
nohup java -jar bf.jar &

#maven JUnit Test Skip 명령어
mvn clean install -DskipTests
```

### 🛠 **HTTPS 키 발급**

```

sudo apt-get install letsencrypt
# 만약 nginx를 사용중이면 중지
sudo systemctl stop nginx
# 인증서 발급
sudo letsencrypt certonly --standalone -d www제외한 도메인 이름

# 아래 키가 발급되는 경로를 /etc/nginx/sites-availabe/default 설정파일에 넣어줘야 함.
 ssl_certificate /etc/letsencrypt/live/도메인이름/fullchain.pem;
 ss
```

### 🛠 **Set up Private Network with Geth**

#### **Go, geth, solc Installation**

```

# Go Install
sudo apt install software-propeties-common
sudo add-apt-repository ppa:longsleep/golang-backprots
sudo apt update
sudo apt install golang-go

# Geth 설치
sudo apt-get update
sudo apt-get install ethereum

# 설치 확인
which geth
which solc

# 버전 확인
geth version
go version

```

#### **Geth를 다룰 폴더 생성하기**

```

mkdir {폴더 이름}
cd {폴더 이름}

```

#### **계정 생성하기**

```

geth --datadir $PWD account new

```

#### **Genesis block 생성하기**

```

#genesis.json
{
    "config": {
      "chainId": 15,
      "homesteadBlock": 0,
      "eip150Block": 0,
      "eip155Block": 0,
      "eip158Block": 0,
      "byzantiumBlock": 0,
      "constantinopleBlock": 0,
      "petersburgBlock": 0,
      "ethash": {}
    },
    "difficulty": "1",
    "gasLimit": "8000000",
    "alloc": {
         "{계정 생성하기로 나온 address}": { "balance": "100000" }
    }
}

```

#### **네트워크 초기화**

```

geth --datadir {경로} init {제네시스 파일}
# ex) geth --datadir $PWD init genesis.json

```

#### **HTTP 접속 설정**

```
geth --networkid 15 --datadir $PWD --http --http.addr "0.0.0.0" --http.port 8545 --http.corsdomain "*" --rpc.allow-unprotected-txs --http.api "personal,eth,net,web3,txpool,miner,admin" --allow-insecure-unlock --nodiscover --mine --http.vhosts '*' --unlock 0 --password /home/ubuntu/dabo_geth/passwd
```

#### **다른 곳에서 Geth 접속하기**

```
geth attach http://[도메인]:8545>
```













